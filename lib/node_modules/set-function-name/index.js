'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var index$1 = require('../define-data-property/index.js');
var index$2 = require('../has-property-descriptors/index.js');
var index = require('../functions-have-names/index.js');
var type = require('../es-errors/type.js');

var define = index$1.default;
var hasDescriptors = index$2.default();
var functionsHaveConfigurableNames = index.default.functionsHaveConfigurableNames();

var $TypeError = type.default;

/** @type {import('.')} */
var setFunctionName = function setFunctionName(fn, name) {
	if (typeof fn !== 'function') {
		throw new $TypeError('`fn` is not a function');
	}
	var loose = arguments.length > 2 && !!arguments[2];
	if (!loose || functionsHaveConfigurableNames) {
		if (hasDescriptors) {
			define(/** @type {Parameters<define>[0]} */ (fn), 'name', name, true, true);
		} else {
			define(/** @type {Parameters<define>[0]} */ (fn), 'name', name);
		}
	}
	return fn;
};

exports.default = setFunctionName;
